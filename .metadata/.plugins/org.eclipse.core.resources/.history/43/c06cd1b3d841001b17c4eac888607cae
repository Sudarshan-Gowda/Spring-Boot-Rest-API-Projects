
-- 01. DEPARTMENT 
CREATE TABLE RESEARCH.DEPARTMENT (
	DEPT_CODE VARCHAR2(20) NOT NULL,
	DEPT_NAME VARCHAR2(20) NOT NULL,
	DEPT_DESC VARCHAR2(20),
	DEPT_SEQ NUMBER(5),
	STATUS CHAR(1) DEFAULT 'A',
	CREATE_DATE TIMESTAMP DEFAULT SYSDATE,
	CONSTRAINT DEPARTMENT_PK PRIMARY KEY (DEPT_CODE)
) TABLESPACE USERS;

COMMENT ON COLUMN "RESEARCH"."DEPARTMENT"."DEPT_CODE" IS 'Department Code eg: COMM, MEDICARE';
COMMENT ON COLUMN "RESEARCH"."DEPARTMENT"."DEPT_NAME" IS 'Department Name eg:MARSTATUS';
COMMENT ON COLUMN "RESEARCH"."DEPARTMENT"."DEPT_DESC" IS 'Department Description MARRIED/SINGLE';
COMMENT ON COLUMN "RESEARCH"."DEPARTMENT"."DEPT_SEQ" IS 'Department Sequence';
COMMENT ON COLUMN "RESEARCH"."DEPARTMENT"."STATUS" IS 'Department Status; A/I';
COMMENT ON COLUMN "RESEARCH"."DEPARTMENT"."CREATE_DATE" IS 'Create Date';

COMMENT ON TABLE "RESEARCH"."DEPARTMENT" IS 'Department details Table';

-- 02. EMPLOYEE
CREATE TABLE RESEARCH.EMPLOYEE (
	EMP_ID VARCHAR2(30) NOT NULL,
	EMP_NAME VARCHAR2(100) NOT NULL,
	EMP_EMAIL VARCHAR2(100) NOT NULL,
	DEPT_CODE VARCHAR2(20) NOT NULL,
	YEAR_OF_EXP NUMBER(4,2),
	STATUS  CHAR(1) DEFAULT 'A',
	CREATE_DATE TIMESTAMP DEFAULT SYSDATE,
	CONSTRAINT EMPLOYEE_PK PRIMARY KEY (EMP_ID),
	CONSTRAINT EMPLOYEE_FK_DEPT_CODE FOREIGN KEY (DEPT_CODE) REFERENCES RESEARCH.DEPARTMENT(DEPT_CODE)
) TABLESPACE USERS;

COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."EMP_ID" IS 'Employee Id eg:Sequence Generator';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."EMP_NAME" IS 'Employee Name';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."EMP_EMAIL" IS 'Employee Email';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."DEPT_CODE" IS 'Department Code';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."YEAR_OF_EXP" IS 'Year of experience';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."STATUS" IS 'Employee Status eg:A/I';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE"."CREATE_DATE" IS 'Create Date';

COMMENT ON TABLE "RESEARCH"."EMPLOYEE" IS 'Employee details Table';

-- 03. ADDRESS_DETAIL
CREATE TABLE RESEARCH.ADDRESS_DETAIL (
	ADDRESS_ID NUMBER(19) NOT NULL,
	ADDRESS_TYPE VARCHAR2(10) NOT NULL,
	ADDRESS_LINE1 VARCHAR2(100) NOT NULL,
	ADDRESS_LINE2 VARCHAR2(100) NOT NULL,
	POSTAL_CODE VARCHAR2(10) NOT NULL,
	STATUS  CHAR(1) DEFAULT 'A',
	STATE VARCHAR2(20) NOT NULL,
	COUNTRY VARCHAR2(20) NOT NULL,
	EMP_ID VARCHAR2(30) NOT NULL,
	CONSTRAINT ADDRESS_DETAIL_PK PRIMARY KEY (ADDRESS_ID),
	CONSTRAINT ADDRESS_DETAIL_FK_EMP_ID FOREIGN KEY (EMP_ID) REFERENCES RESEARCH.EMPLOYEE(EMP_ID) ON DELETE CASCADE
) TABLESPACE USERS;

COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."ADDRESS_ID" IS 'Address Id eg:Sequence Generator';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."ADDRESS_TYPE" IS 'Address Type';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."ADDRESS_LINE1" IS 'Address Line 1';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."ADDRESS_LINE2" IS 'Address Line 2;
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."POSTAL_CODE" IS 'Postal Code';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."STATUS" IS 'Address Status eg:A/I';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."STATE" IS 'Address State';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."COUNTRY" IS 'Address Country';
COMMENT ON COLUMN "RESEARCH"."ADDRESS_DETAIL"."EMP_ID" IS 'Employee ID ref to EMPLOYEE table';

COMMENT ON TABLE "RESEARCH"."ADDRESS_DETAIL" IS 'Address details Table';

-- 04. PROJECTS 
CREATE TABLE RESEARCH.PROJECTS (
	PROJECT_ID NUMBER(19) NOT NULL,
	PROJECT_CODE VARCHAR2(20) NOT NULL,
	PROJECT_NAME VARCHAR2(100) NOT NULL,
	PROJECT_DESC VARCHAR2(255),
	STATUS CHAR(1) DEFAULT 'A',
	CREATE_DATE TIMESTAMP DEFAULT SYSDATE,
	CONSTRAINT PROJECTS_PK PRIMARY KEY (PROJECT_ID)
) TABLESPACE USERS;

COMMENT ON COLUMN "RESEARCH"."PROJECTS"."PROJECT_ID" IS 'Project ID Sequence generator';
COMMENT ON COLUMN "RESEARCH"."PROJECTS"."PROJECT_CODE" IS 'Project Code eg:Mobile APP Development';
COMMENT ON COLUMN "RESEARCH"."PROJECTS"."PROJECT_NAME" IS 'Project Name';
COMMENT ON COLUMN "RESEARCH"."PROJECTS"."PROJECT_DESC" IS 'Project Description';
COMMENT ON COLUMN "RESEARCH"."PROJECTS"."STATUS" IS 'Project Status; A/I';
COMMENT ON COLUMN "RESEARCH"."PROJECTS"."CREATE_DATE" IS 'Create Date';

COMMENT ON TABLE "RESEARCH"."PROJECTS" IS 'Project details Table';

-- 05. EMPLOYEE_PROJECTS
CREATE TABLE RESEARCH.EMPLOYEE_PROJECTS (
	EMP_ID VARCHAR2(30) NOT NULL,
	PROJECT_ID NUMBER(19) NOT NULL,
	CONSTRAINT EMPLOYEE_PROJECTS_PK PRIMARY KEY (EMP_ID,PROJECT_ID),
    CONSTRAINT EMPLOYEE_PROJECTS_FK_EMP_ID FOREIGN KEY (EMP_ID) REFERENCES RESEARCH.EMPLOYEE(EMP_ID) ON DELETE CASCADE
	CONSTRAINT EMPLOYEE_PROJECTS_FK_PROJECT_ID FOREIGN KEY (PROJECT_ID) REFERENCES RESEARCH.PROJECTS(PROJECT_ID) ON DELETE CASCADE
) TABLESPACE USERS;

COMMENT ON COLUMN "RESEARCH"."EMPLOYEE_PROJECTS"."EMP_ID" IS 'Employee ID';
COMMENT ON COLUMN "RESEARCH"."EMPLOYEE_PROJECTS"."PROJECT_ID" IS 'Project ID';

COMMENT ON TABLE "RESEARCH"."EMPLOYEE_PROJECTS" IS 'Employee Project details Table';


-- SEQUENCE GENERATOR
CREATE SEQUENCE "RESEARCH"."EMPLOYEE_ID_SEQ" MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20;
CREATE SEQUENCE "RESEARCH"."ADDRESS_DETAIL_ID_SEQ" MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20;
CREATE SEQUENCE "RESEARCH"."PROJECT_ID_SEQ" MINVALUE 0 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20;

-- Permission Scripts
GRANT SELECT, INSERT, UPDATE , DELETE ON RESEARCH.DEPARTMENT TO RESEARCH;
GRANT SELECT, INSERT, UPDATE , DELETE ON RESEARCH.DEPARTMENT TO RESEARCH;
GRANT SELECT, INSERT, UPDATE , DELETE ON RESEARCH.DEPARTMENT TO RESEARCH;
GRANT SELECT, INSERT, UPDATE , DELETE ON RESEARCH.PROJECTS TO RESEARCH;
GRANT SELECT, INSERT, UPDATE , DELETE ON RESEARCH.EMPLOYEE_PROJECTS TO RESEARCH;

